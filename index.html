<html>
    <head>
        <title>Poking the bear</title>
        <link rel="stylesheet" href="tw.css">

    </head>
    <body>
        <div class="flex h-screen w-full flex-col overflow-hidden bg-white text-gray-950 dark:bg-gray-950 dark:text-white text-sm">
            <div class="mx-auto max-w-full p-8">
              <!-- Input Section -->
              <div class="mb-4 flex flex-wrap items-center gap-2 md:justify-between">
                <input type="text" placeholder="Name" class="focus:blue-500 w-full rounded-lg border px-2 py-1 sm:w-32" />
          
                <input type="text" placeholder="Message" class="focus:blue-500 flex-1 rounded-lg border px-2 py-1" />
          
                <button class="w-full rounded-lg bg-blue-500 px-3 py-1.5 font-bold text-white transition-colors duration-300 hover:bg-blue-600 sm:w-20">Send</button>
              </div>
          
              <div id="result" class="max-h-[calc(100vh-100px)] grow overflow-y-auto">
                <!-- Messages Section -->
              </div>
                &nbsp;
            </div>
          </div>
          
    </body>
    <script>
document.addEventListener('DOMContentLoaded', async function() {
    try {
        const response = await fetch('https://messages.xefig.com/');

        if (!response.ok) {
            throw new Error('Failed to fetch messages');
        }
        
        const messages = await response.json();
        
        let html = '<div class="space-y-2">'; // Initialize container for messages
        
        messages.forEach(message => {
            html += `
                <div class="flex items-start space-x-2 p-2 bg-gray-100 dark:bg-gray-800 rounded-lg shadow-md">
                    <strong>${message.name}</strong>
                    <p>${message.message}</p>
                </div>
            `;
        });
        
        html += '</div>';
        
        document.getElementById('result').innerHTML = html;
    } catch (error) {
        console.error('Error:', error);
        document.getElementById('result').innerHTML = `
            <p class="text-red-500">Failed to load messages. Please try again later.</p>
        `;
    }
});
    </script>
</html>